-- Скрипт сгенерирован Devart dbForge Studio for Oracle, Версия 3.5.185.0
-- Домашняя страница продукта: http://www.devart.com/ru/dbforge/oracle/studio
-- Дата скрипта: 11.12.2013 15:07:34
-- Версия сервера: Oracle Database 11g Express Edition Release 11.2.0.2.0 - Production
-- Версия клиента: 11.2.0.1

DROP TABLE HR.COUNTRY CASCADE CONSTRAINTS;

CREATE TABLE HR.COUNTRY (
  ID   NUMBER(7, 0),
  NAME VARCHAR2(30 BYTE) NOT NULL,
  CONSTRAINT PK_COUNTRY PRIMARY KEY (ID)
)
TABLESPACE USERS
STORAGE (INITIAL 64 K
         NEXT 1 M
         MAXEXTENTS UNLIMITED)
LOGGING;

DROP TABLE HR.TITLE CASCADE CONSTRAINTS;

CREATE TABLE HR.TITLE (
  ID   NUMBER(7, 0),
  NAME VARCHAR2(30 BYTE) NOT NULL,
  CONSTRAINT PK_TITLE PRIMARY KEY (ID)
)
TABLESPACE USERS
STORAGE (INITIAL 64 K
         NEXT 1 M
         MAXEXTENTS UNLIMITED)
LOGGING;

DROP TABLE HR.CACHBOX CASCADE CONSTRAINTS;

CREATE TABLE HR.CACHBOX (
  ID    NUMBER(15, 0),
  NAME  VARCHAR2(30 BYTE) NOT NULL,
  MODEL VARCHAR2(50 BYTE) NOT NULL,
  CONSTRAINT PK_CACHBOX PRIMARY KEY (ID)
)
TABLESPACE USERS
STORAGE (INITIAL 64 K
         NEXT 1 M
         MAXEXTENTS UNLIMITED)
LOGGING;

COMMENT ON TABLE HR.CACHBOX IS 'касса';
COMMENT ON COLUMN HR.CACHBOX.ID IS 'инвентарный номер';

DROP TABLE HR.CITY CASCADE CONSTRAINTS;

CREATE TABLE HR.CITY (
  ID         NUMBER(7, 0),
  NAME       VARCHAR2(30 BYTE) NOT NULL,
  ID_COUNTRY NUMBER(7, 0)      NOT NULL,
  CONSTRAINT PK_CITY PRIMARY KEY (ID),
  CONSTRAINT FK_COUNTRY_ID FOREIGN KEY (ID_COUNTRY)
  REFERENCES HR.COUNTRY (ID),
  CONSTRAINT KEY_CITY UNIQUE (ID_COUNTRY,
  NAME)
)
TABLESPACE USERS
STORAGE (INITIAL 64 K
         NEXT 1 M
         MAXEXTENTS UNLIMITED)
LOGGING;

DROP TABLE HR.EMPLOYEES CASCADE CONSTRAINTS;

CREATE TABLE HR.EMPLOYEES (
  ID          NUMBER(20, 0),
  LAST_NAME   VARCHAR2(30 BYTE) NOT NULL,
  FIRST_NAME  VARCHAR2(30 BYTE) NOT NULL,
  MIDDLE_NAME VARCHAR2(30 BYTE) NOT NULL,
  ID_TITLE    NUMBER(7, 0)      NOT NULL,
  CONSTRAINT PK_EMPLOYEES PRIMARY KEY (ID),
  CONSTRAINT FK_TITLE_ID FOREIGN KEY (ID_TITLE)
  REFERENCES HR.TITLE (ID)
)
TABLESPACE USERS
STORAGE (INITIAL 64 K
         NEXT 1 M
         MAXEXTENTS UNLIMITED)
LOGGING;

COMMENT ON COLUMN HR.EMPLOYEES.ID IS 'ИНН';

DROP TABLE HR.DISTRIBUTOR CASCADE CONSTRAINTS;

CREATE TABLE HR.DISTRIBUTOR (
  ID      NUMBER(7, 0),
  NAME    VARCHAR2(30 BYTE) NOT NULL,
  ID_CITY NUMBER(7, 0)      NOT NULL,
  STREET  VARCHAR2(50 BYTE) NOT NULL,
  HOUSE   NUMBER(3, 0)      NOT NULL,
  PHONE   NUMBER(15, 0),
  E_MAIL  VARCHAR2(50 BYTE),
  CONSTRAINT PK_DISTRIBUTOR PRIMARY KEY (ID),
  CONSTRAINT FK_DISTR_CITY_ID FOREIGN KEY (ID_CITY)
  REFERENCES HR.CITY (ID),
  CONSTRAINT KEY_DISTRIBUTOR UNIQUE (STREET,
  ID_CITY,
  HOUSE,
  NAME)
)
TABLESPACE USERS
STORAGE (INITIAL 64 K
         NEXT 1 M
         MAXEXTENTS UNLIMITED)
LOGGING;

DROP TABLE HR.PRODUCER CASCADE CONSTRAINTS;

CREATE TABLE HR.PRODUCER (
  ID      NUMBER(7, 0),
  NAME    VARCHAR2(30 BYTE) NOT NULL,
  ID_CITY NUMBER(7, 0)      NOT NULL,
  STREET  VARCHAR2(50 BYTE) NOT NULL,
  HOUSE   NUMBER(3, 0)      NOT NULL,
  PHONE   NUMBER(15, 0),
  E_MAIL  VARCHAR2(50 BYTE),
  CONSTRAINT PK_PRODUCER PRIMARY KEY (ID),
  CONSTRAINT FK_PR_CITY_ID FOREIGN KEY (ID_CITY)
  REFERENCES HR.CITY (ID),
  CONSTRAINT KEY_PRODUCER UNIQUE (STREET,
  ID_CITY,
  NAME,
  HOUSE)
)
TABLESPACE USERS
STORAGE (INITIAL 64 K
         NEXT 1 M
         MAXEXTENTS UNLIMITED)
LOGGING;

DROP TABLE HR.CHECK_INFO CASCADE CONSTRAINTS;

CREATE TABLE HR.CHECK_INFO (
  ID      NUMBER(7, 0),
  C_DATE  DATE          NOT NULL,
  ID_EMP  NUMBER(7, 0)  NOT NULL,
  ID_CACH NUMBER(15, 0) NOT NULL,
  SUM     NUMBER(10, 0) NOT NULL,
  CONSTRAINT PK_CHECK_INFO PRIMARY KEY (ID),
  CONSTRAINT FK_CH_C_ID FOREIGN KEY (ID_CACH)
  REFERENCES HR.CACHBOX (ID),
  CONSTRAINT FK_CH_EMP_ID FOREIGN KEY (ID_EMP)
  REFERENCES HR.EMPLOYEES (ID),
  CONSTRAINT KEY_CHECK_INFO UNIQUE (C_DATE,
  ID_CACH,
  ID_EMP)
)
TABLESPACE USERS
STORAGE (INITIAL 64 K
         NEXT 1 M
         MAXEXTENTS UNLIMITED)
LOGGING;

DROP TABLE HR.CACHBOX_TEST CASCADE CONSTRAINTS;

CREATE TABLE HR.CACHBOX_TEST (
  ID_CACH     NUMBER(15, 0),
  DATE_TEST   DATE,
  VALUES_CACH NUMBER(15, 0) NOT NULL,
  ID_EMP      NUMBER(7, 0)  NOT NULL,
  CONSTRAINT PK_CACHBOX_TEST PRIMARY KEY (ID_CACH,
  DATE_TEST),
  CONSTRAINT FK_CACHBOX_ID FOREIGN KEY (ID_CACH)
  REFERENCES HR.CACHBOX (ID),
  CONSTRAINT FK_CACH_EMP_ID FOREIGN KEY (ID_EMP)
  REFERENCES HR.EMPLOYEES (ID)
)
TABLESPACE USERS
STORAGE (INITIAL 64 K
         NEXT 1 M
         MAXEXTENTS UNLIMITED)
LOGGING;

DROP TABLE HR.SUPPLY_INFO CASCADE CONSTRAINTS;

CREATE TABLE HR.SUPPLY_INFO (
  ID       NUMBER(10, 0),
  ID_DISTR NUMBER(7, 0) NOT NULL,
  S_DATE   DATE         NOT NULL,
  ID_EMP   NUMBER(7, 0) NOT NULL,
  CONSTRAINT PK_SUPPLY PRIMARY KEY (ID),
  CONSTRAINT FK_SUP_DIST_ID FOREIGN KEY (ID_DISTR)
  REFERENCES HR.DISTRIBUTOR (ID),
  CONSTRAINT KEY_SUPPLY_INFO UNIQUE (ID_DISTR,
  S_DATE)
)
TABLESPACE USERS
STORAGE (INITIAL 64 K
         NEXT 1 M
         MAXEXTENTS UNLIMITED)
LOGGING;

COMMENT ON TABLE HR.SUPPLY_INFO IS 'поставки';

DROP TABLE HR.PRODUCT CASCADE CONSTRAINTS;

CREATE TABLE HR.PRODUCT (
  ID           NUMBER(7, 0),
  NAME         VARCHAR2(30 BYTE) NOT NULL,
  ID_PRODUCER  NUMBER(7, 0)      NOT NULL,
  RETAIL_PRICE NUMBER(19, 2)     NOT NULL,
  NORM         NUMBER(7, 0)      NOT NULL,
  SOLD         NUMBER(7, 0)      NOT NULL,
  RESIDUE      NUMBER(7, 0)      NOT NULL,
  CONSTRAINT PK_PRODUCT PRIMARY KEY (ID),
  CONSTRAINT FK_PRODUCER_ID FOREIGN KEY (ID_PRODUCER)
  REFERENCES HR.PRODUCER (ID)
)
TABLESPACE USERS
STORAGE (INITIAL 64 K
         NEXT 1 M
         MAXEXTENTS UNLIMITED)
LOGGING;

COMMENT ON COLUMN HR.PRODUCT.RESIDUE IS 'остаток товара';
COMMENT ON COLUMN HR.PRODUCT.SOLD IS 'количество проданных товаров';

DROP TABLE HR.CHECK_C CASCADE CONSTRAINTS;

CREATE TABLE HR.CHECK_C (
  ID      NUMBER(10, 0),
  ID_PROD NUMBER(7, 0),
  AMOUNT  NUMBER(7, 0) NOT NULL,
  CONSTRAINT PK_CHECK PRIMARY KEY (ID,
  ID_PROD),
  CONSTRAINT FK_CH_ID FOREIGN KEY (ID)
  REFERENCES HR.CHECK_INFO (ID),
  CONSTRAINT FK_CH_PROD_ID FOREIGN KEY (ID_PROD)
  REFERENCES HR.PRODUCT (ID)
)
TABLESPACE USERS
STORAGE (INITIAL 64 K
         NEXT 1 M
         MAXEXTENTS UNLIMITED)
LOGGING;

DROP TABLE HR.SUPPLY CASCADE CONSTRAINTS;

CREATE TABLE HR.SUPPLY (
  ID      NUMBER(7, 0),
  ID_PROD NUMBER(7, 0),
  AMOUNT  NUMBER(7, 0)  NOT NULL,
  PRICE   NUMBER(19, 2) NOT NULL,
  CONSTRAINT PK_SUPPLY_INFO PRIMARY KEY (ID,
  ID_PROD),
  CONSTRAINT FK_SUP_ID FOREIGN KEY (ID)
  REFERENCES HR.SUPPLY_INFO (ID),
  CONSTRAINT FK_SUP_PR_ID FOREIGN KEY (ID_PROD)
  REFERENCES HR.PRODUCT (ID)
)
TABLESPACE USERS
STORAGE (INITIAL 64 K
         NEXT 1 M
         MAXEXTENTS UNLIMITED)
LOGGING;

INSERT INTO CACHBOX_TEST (ID_CACH, DATE_TEST, VALUES_CACH, ID_EMP) VALUES (120, TO_DATE('11.12.2013', 'DD.MM.YYYY'), 123456789, 456);
INSERT INTO CACHBOX_TEST (ID_CACH, DATE_TEST, VALUES_CACH, ID_EMP) VALUES (152, TO_DATE('10.10.2010', 'DD.MM.YYYY'), 321654987, 456);
INSERT INTO CACHBOX_TEST (ID_CACH, DATE_TEST, VALUES_CACH, ID_EMP) VALUES (785, TO_DATE('13.05.2011', 'DD.MM.YYYY'), 485259623, 456);

INSERT INTO CHECK_C (ID, ID_PROD, AMOUNT) VALUES (123456, 75, 2);
INSERT INTO CHECK_C (ID, ID_PROD, AMOUNT) VALUES (123456, 85, 1);
INSERT INTO CHECK_C (ID, ID_PROD, AMOUNT) VALUES (456987, 12, 6);
INSERT INTO CHECK_C (ID, ID_PROD, AMOUNT) VALUES (321654, 12, 1);
INSERT INTO CHECK_C (ID, ID_PROD, AMOUNT) VALUES (123456, 58, 8);

INSERT INTO CHECK_INFO (ID, C_DATE, ID_EMP, ID_CACH, SUM) VALUES (123456, TO_DATE('25.10.2013', 'DD.MM.YYYY'), 236, 120, 2137);
INSERT INTO CHECK_INFO (ID, C_DATE, ID_EMP, ID_CACH, SUM) VALUES (456987, TO_DATE('14.02.2012', 'DD.MM.YYYY'), 236, 120, 219);
INSERT INTO CHECK_INFO (ID, C_DATE, ID_EMP, ID_CACH, SUM) VALUES (321654, TO_DATE('17.11.2013', 'DD.MM.YYYY'), 236, 152, 37);

INSERT INTO CITY (ID, NAME, ID_COUNTRY) VALUES (32, 'MOSCOW', 65);
INSERT INTO CITY (ID, NAME, ID_COUNTRY) VALUES (23, 'SARATOV', 65);
INSERT INTO CITY (ID, NAME, ID_COUNTRY) VALUES (45, 'KIEV', 66);

INSERT INTO COUNTRY (ID, NAME) VALUES (65, 'RUSSIA');
INSERT INTO COUNTRY (ID, NAME) VALUES (66, 'UKRAINE');
INSERT INTO COUNTRY (ID, NAME) VALUES (68, 'UK');

INSERT INTO DISTRIBUTOR (ID, NAME, ID_CITY, STREET, HOUSE, PHONE, E_MAIL) VALUES (123, 'ASD', 32, 'LENINA', 21, 987654321, 'ASD@mail.com');
INSERT INTO DISTRIBUTOR (ID, NAME, ID_CITY, STREET, HOUSE, PHONE, E_MAIL) VALUES (456, 'HJG', 23, 'PUSHKINA', 56,  147258369, 'HJG@mail.com');
INSERT INTO DISTRIBUTOR (ID, NAME, ID_CITY, STREET, HOUSE, PHONE, E_MAIL) VALUES (789, 'NBG', 45, 'KLUEVA', 25, 963852741, 'N0BG@mail.com');

INSERT INTO EMPLOYEES (ID, LAST_NAME, FIRST_NAME, MIDDLE_NAME, ID_TITLE) VALUES (456, 'POPOV', 'IVAN', 'IVANOVICH', 98);
INSERT INTO EMPLOYEES (ID, LAST_NAME, FIRST_NAME, MIDDLE_NAME, ID_TITLE) VALUES (236, 'IVANOV', 'ALEXEY', 'PETROVICH', 99);
INSERT INTO EMPLOYEES (ID, LAST_NAME, FIRST_NAME, MIDDLE_NAME, ID_TITLE) VALUES (987, 'SEROVA', 'IRINA', 'SERGEEVNA', 97);

INSERT INTO PRODUCER (ID, NAME, ID_CITY, STREET, HOUSE, PHONE, E_MAIL) VALUES (96, 'QWER', 23, 'TUROVA', 47,951874632, 'QWER@mail.com');
INSERT INTO PRODUCER (ID, NAME, ID_CITY, STREET, HOUSE, PHONE, E_MAIL) VALUES (56, 'MJK', 45, 'NOSOVA', 23, 159236478, 'MJK@mail.com');
INSERT INTO PRODUCER (ID, NAME, ID_CITY, STREET, HOUSE, PHONE, E_MAIL) VALUES (26, 'RTF', 32, 'DEEVA', 1, 357698214, 'RTF@mail.com');

INSERT INTO PRODUCT (ID, NAME, ID_PRODUCER, RETAIL_PRICE, NORM, SOLD, RESIDUE) VALUES (75, 'GHJ', 96, 812.25, 70, 2, 68);
INSERT INTO PRODUCT (ID, NAME, ID_PRODUCER, RETAIL_PRICE, NORM, SOLD, RESIDUE) VALUES (85, 'IOP', 26, 512.39, 25, 1, 24);
INSERT INTO PRODUCT (ID, NAME, ID_PRODUCER, RETAIL_PRICE, NORM, SOLD, RESIDUE) VALUES (12, 'FVBG', 56, 36.54, 100, 7, 93);
INSERT INTO PRODUCT (ID, NAME, ID_PRODUCER, RETAIL_PRICE, NORM, SOLD, RESIDUE) VALUES (58, 'HJKL', 56, 39.70, 80, 5, 83);

INSERT INTO SUPPLY (ID, ID_PROD, AMOUNT, PRICE) VALUES (3698, 75, 70, 750.65);
INSERT INTO SUPPLY (ID, ID_PROD, AMOUNT, PRICE) VALUES (1478, 85, 25, 476.23);
INSERT INTO SUPPLY (ID, ID_PROD, AMOUNT, PRICE) VALUES (2587, 12, 100, 29.65);

INSERT INTO SUPPLY_INFO (ID, ID_DISTR, S_DATE, ID_EMP) VALUES (3698, 123, TO_DATE('25.11.2013', 'DD.MM.YYYY'), 987);
INSERT INTO SUPPLY_INFO (ID, ID_DISTR, S_DATE, ID_EMP) VALUES (1478, 456, TO_DATE('20.10.2013', 'DD.MM.YYYY'), 987);
INSERT INTO SUPPLY_INFO (ID, ID_DISTR, S_DATE, ID_EMP) VALUES (2587, 789, TO_DATE('11.09.2013', 'DD.MM.YYYY'), 987);

INSERT INTO TITLE (ID, NAME) VALUES (97, 'TAKER');
INSERT INTO TITLE (ID, NAME) VALUES (98, 'CASH_TESTER');
INSERT INTO TITLE (ID, NAME) VALUES (99, 'KASSIR');